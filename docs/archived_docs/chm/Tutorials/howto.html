<html>
<head>
</head>
<body bgcolor="black" text="white">
<center><h1>How to get a shard up and running</h1></center>

<h2>What's in this guide</h2>
<ul>
	<li><a href="#Download">Downloading packages</a>
	<li><a href="#Installing">Installing the software</a>
		<ul>
			<li><a href="#IgnitionInstall">Ignition install</a>
			<li><a href="#UOX3Install">UOX3 install</a>
		</ul>
	<li><a href="#Preparation">Preparing the client</a>
	<li><a href="#SetupAccounts">Setting up accounts</a>
	<li><a href="#Configure">Configuring server information</a>
	<li><a href="#Startup">Starting up and logging in</a>
</ul>

<h2><a name="Download">Downloading packages</a></h2>
<p>The list of packages you will require to setup a shard can be found here:
<ul>
<li><a href="http://sourceforge.net/project/showfiles.php?group_id=2271">Latest UOX3 Win32 Installer</a>
<li><a href="http://www.beosil.com/ignition/download.html">Ignition - UO Package</a>
</ul>
<h2><a name="Installing">Installing the software</a></h2>

<h3><a name="IgnitionInstall">Ignition install</a></h3>
<p>Open the zip of the latest UO package for Ignition into a directory of it's own.  If you have third dawn, open up ignition.cfg in notepad, and look for these lines:

<pre>
#!file "uotd.exe"
#!registry "Software\Origin Worlds Online\Ultima Online Third Dawn\1.0" "ExePath" ""
</pre>

<p>What you want to do now is remove the # from those lines, so that ignition can find your 3rd dawn client.  If for some reason ignition does not have a patch for the version of any client you have, follow these directions.

<ol>
<li>Start up an FTP client and point it at <a href="ftp://ftp.owo.com/pub/uo/client/">ftp://ftp.owo.com/pub/uo/client/</a>
<li>Look for a directory with an appropriate client revision.  You'll see a directory (most likely) named 3-0-2g, that'll be your normal/T2A client.  You'll see a directory (most likely) named 3D_Build68, that'll be UOTD.  Head into that directory.
<li>Backup your current client (same files found in the directory you've chosen)
<li>Download each of those files into your UO client directory
</ol>

<h3><a name="UOX3Install">UOX3 Install</a></h3>
<p>Installing UOX3 is fairly trivial.  Run the Win32 installer you downloaded, and do a full install.  Remember where you installed it as well.

<h2><a name="Preparation">Preparing the client</a></h2>
<p>Preparing the client is a fairly easy task to do, if you're running the server on the same machine as your installed client.  Otherwise, it's still fairly simple, but you need to find out the IP address of the server.  Head into your UO client directory, you'll see a file called login.cfg and it'll look much like this:
<pre>
;Loginservers for Ultima Online
;Do not edit this file or patching will fail! Always save a backup.
LoginServer=login.owo.com,7775
LoginServer=login.owo.com,7775
LoginServer=login.owo.com,7776
LoginServer=login.owo.com,7776
</pre>

<p>If you're client is on the same machine as your server, then change it to look like this:
<pre>
;Loginservers for Ultima Online
;Do not edit this file or patching will fail! Always save a backup.
;LoginServer=login.owo.com,7775
;LoginServer=login.owo.com,7775
;LoginServer=login.owo.com,7776
;LoginServer=login.owo.com,7776
LoginServer=127.0.0.1,2593
</pre>

<p>Note that there is now a ; in front of the previous login server entries.  This comments it out so that it doesn't try logging into UO and instead logs into your shard.  If you want to log into UO again, you just need to uncomment (remove the ;) the login.owo.com lines and comment out your line (by adding a ; in front of it).  Note that if your server is on a different machine, you have to do something else.  You need to replace the <i>127.0.0.1</i> with it's reachable IP address.  This could be your internet IP (if it's connected to the net) or your LAN IP (if it's on a LAN).  Say your server is on a LAN, at ip <i>192.169.0.1</i>.  You'll need to change it to look like:
<pre>
;Loginservers for Ultima Online
;Do not edit this file or patching will fail! Always save a backup.
;LoginServer=login.owo.com,7775
;LoginServer=login.owo.com,7775
;LoginServer=login.owo.com,7776
;LoginServer=login.owo.com,7776
LoginServer=192.168.0.1,2593
</pre>

<p>And that should be all you need to do to configure your client, ready to connect.

<h2><a name="SetupAccounts">Setting up accounts</a></h2>

<p>Head into the directory where you installed UOX3.  There should be a file in there called accounts.adm.  You'll see a series of entries that look like this:
<pre>
SECTION ACCOUNT
{
NAME me
PASS me
BAN 0
TIMEBAN 0
LASTIP 127.0.0.1
PUBLIC OFF
CONTACT 
}
</pre>
<p>You don't need to know much about each of these things, except for NAME and PASS.  This is the name and password you will use to login to the server.  Please note that the first account in the accounts.adm file is the ADMIN account, and those that log into it automatically have GM privileges.  So you might want to rename/repassword it.  Now when you add accounts, make sure of the case of the username and password, as the server is sensitive.  Also, make sure you do <b>not</b> have <b>any</b> trailing characters behind the username or password.  If there is a trailing space (me ) then it is considered part of the password.  Add any and all accounts you wish to at this time.

<h2><a name="Configure">Configuring server information</a></h2>
<p>Head into the directory where you installed UOX3.  Open up the uox3.ini file, there is a few things you have to configure successfully before you can start your server.  At the top of the file, you'll see something much like this:
<pre>
Internal (Local)
127.0.0.1
2593
Internal (Public)
203.45.148.151
2593
###
</pre>
<p>This configures all the shards, or possible connections to shards, that show up in the server list.  There are 2 entries there, and they follow the format of:
<pre>
Shard Name
Shard IP
Shard Port
</pre>

<p>The IP address is the most critical part, as almost all UOX3 shards run on port 2593.  In the case above, there are 2 entries.  One's a local login only (must be on the server) and the other is a public internet login (which anyone on the internet can access).  The IP address in the entries is the IP address that the server tells the client to connect to.  Note this is VERY important for servers that hide behind routers or firewalls.  If you run a firewall or router, then you need to make sure that your router or firewall is configured to forward all packets on port 2593 to your server.  Then, you need to put the <b>router or firewall's</b> IP address in the uox3.ini.  So it will be something like:
<pre>
My Shard
My.Router.IP.Here
2593
</pre>

<p>You can add as many entries as you want, up to around 32 (then a client limit kicks in).  To finish your list, you <b>must</b> have the ### that is shown above, as it tells the server there's no more to list.

<p>If you now head further down the file, you'll see this (or something similar):
<pre>
###
c:\game\uo\map0.mul
c:\game\uo\staidx0.mul
c:\game\uo\statics0.mul
c:\game\uo\verdata.mul
c:\game\uo\tiledata.mul
c:\game\uo\multi.mul
c:\game\uo\multi.idx
</pre>

<p>The server needs to know the location of a few of the critical files of the client, so that it can perform it's operation.  This is fairly simple now, you just need to change these paths so that they point to the corresponding files in your UO directory.  And now you're done, you can start your server.

<h2><a name="Startup">Starting up and logging in</a></h2>

<p>Now starting up and logging in is fairly useful.  Run a dos prompt (command under win9x, cmd under NT/2k/XP), and go to the directory where you installed UOX3.  Run the executable.  Eventually, it'll tell you it's fine and dandy, and ready to work.  If not, then you probably misconfigured something in your uox3.ini file, so you might want to check that, and try again.
<p>Now that the server is started up properly, you need to start the client.  Note that you <b>cannot</b> start it as you normally would with regular UO.  Head into the directory where you installed Ignition.  Now run the ignition program, and it'll start your client and decrypt.  Bung in your account details (as described earlier) and login, you should be ready to go.  If ignition doesn't start correctly due to invalid patch information, you'll either need to update your ignition.cfg (from the same location you grabbed ignition) or you will need to grab an older client (also described earlier above).
<p>Now you're off to the races, enjoy!


</body>
</html>