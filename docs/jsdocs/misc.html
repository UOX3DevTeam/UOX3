<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<title>UOX3 API and Event handling document</title>
<style></style>
<link rel="stylesheet" href="style.css" type="text/css">
</head>

<body>
<center>
	<h1>UOX3 Script Engine</h1>
	<h3>API and Event handling</h3>
</center>

<h3><a name="MiscFuncs">Miscellaneous Functions</a></h3>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_RollDice">RollDice</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>int RollDice( numDie, faces, addition );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Rolls a faces sided die numDie times and adds addition. The example is for a DnD style dice like: 2d3+1
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>var mDie = RollDice( 2, 3, 1 );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="ScriptPrintNumber">ScriptPrintNumber</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>ScriptPrintNumber( number );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Prints out a number to the console
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>ScriptPrintNumber( 5 );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SetShowLayer">SetShowLayer</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>SetShowLayer( number );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Sets showlayer true (if number == 1) or false
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>SetShowLayer( 1 );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="GetShowLayer">GetShowLayer</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>int GetShowLayer();
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Returns value of showlayer
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>var iLayer = GetShowLayer();
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_RandomNumber">RandomNumber</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>int RandomNumber( loNum, hiNum );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Returns a random number between loNum and hiNum
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>var iNum = RandomNumber( 0, 10 );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_CalcCharFromSer">CalcCharFromSer</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>CHARACTER CalcCharFromSer( cSerial );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Returns the item with serial cSerial.  Returns null if it doesn't exist
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>var trgChar = CalcCharFromSer( cSerial );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_CalcItemFromSer">CalcItemFromSer</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>ITEM CalcItemFromSer( iSerial );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Returns the item with serial iSerial.  Returns null if it doesn't exist
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>var trgItem = CalcItemFromSer( iSerial );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_RegisterKey">RegisterKey</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_UnregisterKey">UnregisterKey</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetMurderThreshold">GetMurderThreshold</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>int GetMurderThreshold();
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Returns the number of kills needed to go red.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>if( GetMurderThreshold() > GetMurderCount( pTalking ) )
<br>{
<br>	TextMessage( pTalkingTo, "Surely sir, you must be a murderer.  I bid you adieu" );
<br>	EmoteMessage( pTalkingTo, "*scampers off*" );
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetTileIDAtMapCoord">GetTileIDAtMapCoord</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>char DirectionTo( xLoc, yLoc, worldNumber );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Returns ID of the tile at xLoc and yLoc in world worldNumber
<tr><td valign="top" width="25%"><b>Example of Usage</b><td>
<pre>
var MapTile = GetTileIDAtMapCoord( 0, 0, 0 ); // gets tile at 0,0 in Britannia
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_TriggerEvent">TriggerEvent</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>TriggerEvent( scriptID, "functionName", argument1, argument2 );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Calls the JScript that uses scriptID, runs function
which is called "functionName", along with the arguments defined afterwards, seperated by commas.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td>
<pre>
TriggerEvent( 8000, "onUseChecked", pUser, pItem );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_AreaCharacterFunction">AreaCharacterFunction</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>AreaCharacterFunction( "myAreaFunc", radiusObject, radius, socket );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Allows script to work with every character that is found in the radius
of the radiusObject (item or character), for the purpose of area-effects.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td>
<pre>
function onUseChecked( pUser, pSock );
{
	AreaCharacterFunction( "myAreaFunc", pUser, 10, pSock );
}
function myAreaFunc( srcChar, trgChar, pSock )
{
	trgChar.TextMessage( "Oh no I've been found!" );
	pSock.SysMessage( "Found " + trgChar.name );
}</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_AreaItemFunction">AreaItemFunction</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>AreaItemFunction( "myAreaFunc", radiusObject, radius, socket );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Allows script to work with every item that is found in the radius
of the radiusObject (item or character), for the purpose of area-effects.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td>
<pre>
function onUseChecked( pUser, pSock );
{
	AreaItemFunction( "myAreaFunc", pUser, 10, pSock );
}
function myAreaFunc( srcChar, trgItem, pSock )
{
	trgItem.TextMessage( "Oh no I've been found!" );
	pSock.SysMessage( "Found " + trgItem.name );
}</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_UseItem">UseItem</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>UseItem( iSock/mChar, iToUse );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Current character of iSock/mChar passed in uses the item iToUse.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>if( iUsed.type == 12 )
<br>{
<br>	mChar.TextMessage( "I just LURV using doors" );
<br>	UseItem( mChar, iToUse );
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_TriggerTrap">TriggerTrap</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>TriggerTrap( pChar/pSock, iTrap );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>pChar/pSock triggers trap on iTrap object (if any trap is present)
<tr><td valign="top" width="25%"><b>Extra Info</b><td>Trap will only trigger if both first two parts of MOREZ value is set on object; first part needs to be set to 1 to indicate object is trapped, second part needs to specify damage amount to apply.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
// Setup trap on iTrap object
// First part of value (01) indicates object is trapped
// Second part of value (32) defines damage dealt (32 = 0x32 = 50 damage)
iTrap.morez = 0x01320000;

// Trigger the trap
TriggerTrap( pChar, iTrap );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_SendStaticStats">SendStaticStats</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>void SendStaticStats( socket );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Builds a gump with map and tile information on the targeted location.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>SendStaticStats( mSock );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetTileHeight">GetTileHeight</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>signed char GetTileHeight( tileID );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Returns the map height of the specified tile.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>object.z = GetTileHeight( targTile );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_IterateOver">IterateOver</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>unsigned int IterateOver( objectType );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Iterates over all objects of specified type in the world.
<tr><td valign="top" width="25%"><b>Extra Info</b><td>For every object it comes across, the iterator will call onIterate( object ) in the calling script.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>var count = IterateOver( "ITEM" );
function onIterate( toCheck )
{
	toCheck.TextMessage( "I'm an item!" );
	return true;
}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_WorldBrightLevel">WorldBrightLevel</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>unsigned char WorldBrightLevel( [lightlevel] );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Sets and returns the bright light level of the world.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>WorldBrightLevel( 1 );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_WorldDarkLevel">WorldDarkLevel</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>unsigned char WorldDarkLevel( [lightlevel] );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Sets and returns the dark light level of the world.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>var darkLight = WorldDarkLevel();
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_WorldDungeonLevel">WorldDungeonLevel</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>unsigned char WorldDungeonLevel( [lightlevel] );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Sets and returns the dungeon light level of the world.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>WorldDungeonLevel( 1 );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_ValidateObject">ValidateObject</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool ValidateObject( object );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b>
<td>Returns true if argument is validated as an object
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
if( !ValidateObject( pUser ) )
	return;
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_ReloadJSFile">ReloadJSFile</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>void ReloadJSFile( scriptID );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b>
<td>Reloads a specified JavaScript file depending on scriptID from jse_fileassociations.scp
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
function CommandRegistration()
{
	RegisterCommand( "reloadjsfile", 3, true ); //Reload JavaScript file
}

function command_RELOADJSFILE( socket, cmdString )
{
	var scriptID = parseInt( cmdString );
	socket.SysMessage( "Attempting Reload of JavaScript (ScriptID " + cmdString + ")" );
	ReloadJSFile( scriptID );
}</pre>
</table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetTimer">GetTimer</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool GetTimer( timerID );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b>
<td>Returns the specified timer value
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
myObj.GetTimer( 3 );</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_SetTimer">SetTimer</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool SetTimer( timerID, numMilliSeconds )
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Sets the specified timer with the amount of miliseconds until it expires.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
mySock.SetTimer( 3, 1000 );</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_Moon">Moon</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool Moon( moonNum, newVal );<br>bool Moon( moonNum )
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Get and set the server moon values for the two moons Felucca (0) and Trammel (1)
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var feluccaMoonphase = Moon( 0 );
var TrammelMoonphase = Moon( 1 );
Moon( 0, 7 ); //Set the moon Felucca to moonphase 7
Moon( 1, 3 ); //Set the moon Trammel to moonphase 3
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_CreateParty">CreateParty</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool CreateParty( partyleader );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Create a new party/group with the specified character as leader
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var myParty = CreateParty( pUser ); //create a new party (myParty) with pUser as the leader
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetSocketFromIndex">GetSocketFromIndex</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool GetSocketFromIndex( socketIndex );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Create a socket-object based on the specified socketIndex
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var socket = GetSocketFromIndex( 0 ); //fetch whatever socket is connected to the server as socket/connection 0
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetClientFeature">GetClientFeature</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool GetClientFeature( ClientFeaturesBitNum );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Check if a specific client features is enabled. For a list of features that can be checked this way, see <strong>[settings]->clientFeatures List</strong> in the <a href="https://www.uox3.org/docs/index.html#uoxINISettings" target="_blank" title="UOX3 Documentation - UOX.INI Settings">UOX.INI Settings section of the UOX3 Documentation</a>.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var aosFeaturesEnabled = GetClientFeature( 0x10 ); // AoS bit from list of client features
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetServerFeature">GetServerFeature</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool GetServerFeature( ServerFeaturesBitNum );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Check if a specific server features is enabled. For a list of features that can be checked this way, see <strong>[settings]->serverFeatures List</strong> in the <a href="https://www.uox3.org/docs/index.html#uoxINISettings" target="_blank" title="UOX3 Documentation - UOX.INI Settings">UOX.INI Settings section of the UOX3 Documentation</a>.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var contextMenusEnabled = GetServerFeature( 0x08 ); // ContextMenus bit from list of server features
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetServerSetting">GetServerSetting</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>string GetServerSetting( serverSettingString );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Fetches the value of a specified server setting and returns it as a string. Wrap in parseInt() if expected value returned is an int.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var guardsActive = GetServerSetting( "GUARDSACTIVE" ); // Returns 1 if GUARDSACTIVE is set to 1 in UOX.INI, or 0 if set to 0.
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_CheckTileFlag">CheckTileFlag</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool CheckTileFlag( tileID, tileflag );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Check if a specific tile ID has given flag
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var doesTileBlock = CheckTileFlag( iUsed.id, 6 ); //6 = TF_BLOCKING
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetMapElevation">GetMapElevation</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool GetMapElevation( x, y, z, world );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Returns the map elevation at specified coordinates
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var mapElev = GetMapElevation( pUser.x, pUser.y, pUser.z, pUser.worldnumber );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_IsInBuilding">IsInBuilding</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool IsInBuilding( x, y, z, world, instance, checkHeight );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Returns true if specified location is inside a static building (underneath static items), or if player is inside a multi. If checkHeight argument is true, player is only deemed inside a multi if there are multi-items above the player's head. If player is in a courtyard/on a rooftop, they will be deemed to be NOT in the building. checkHeight is not used for the static part of the function, only for multis.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var isCharInBuilding = IsInBuilding( myChar.x, myChar.y, myChar.z, myChar.worldnumber, myChar.instanceID, true );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_CheckStaticFlag">CheckStaticFlag</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool CheckStaticFlag( x, y, z, world, tileFlagID );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Check if any statics at given coordinates has specified tile flag.<br><br>
Parameters:<br>
x, y, z, world = coordinates and worldnumber<br>
tileFlagID = tileFlag from sourceCode<br>
<pre>	TF_FLOORLEVEL	= 0,
	TF_HOLDABLE = 1,
	TF_TRANSPARENT = 2,
	TF_TRANSLUCENT = 3,
	TF_WALL = 4,
	TF_DAMAGING = 5,
	TF_BLOCKING = 6 ,
	TF_WET = 7,
	TF_UNKNOWN1 = 8,
	TF_SURFACE = 9,
	TF_CLIMBABLE = 10,
	TF_STACKABLE = 11,
	TF_WINDOW = 12,
	TF_NOSHOOT = 13,
	TF_DISPLAYA = 14,
	TF_DISPLAYAN = 15,
	TF_DESCRIPTION = 16,
	TF_FOLIAGE = 17,
	TF_PARTIALHUE = 18,
	TF_UNKNOWN2 = 19,
	TF_MAP = 20,
	TF_CONTAINER = 21,
	TF_WEARABLE = 22,
	TF_LIGHT = 23,
	TF_ANIMATED = 24,
	TF_NODIAGONAL = 25, //HOVEROVER in SA clients and later, to determine if tiles can be moved on by flying gargoyles
	TF_UNKNOWN3 = 26,
	TF_ARMOR = 27,
	TF_ROOF = 28,
	TF_DOOR = 29,
	TF_STAIRBACK = 30,
	TF_STAIRRIGHT = 31</pre>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var tileFlagFound = CheckStaticFlag( pUser.x, pUser.y, pUser.z, pUser.worldnumber, 10 ); // Is there a tile with TF_CLIMBABLE flag?
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_CheckDynamicFlag">CheckDynamicFlag</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool CheckDynamicFlag( x, y, z, worldNumber, instanceID, tileFlagID );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Check if any dynamics at given coordinates has specified tile flag.<br><br>
Parameters:<br>
x, y, z, world, instanceID = coordinates, worldnumber and instanceID<br>
tileFlagID = tileFlag from sourceCode<br>
<pre>	TF_FLOORLEVEL	= 0,
	TF_HOLDABLE = 1,
	TF_TRANSPARENT = 2,
	TF_TRANSLUCENT = 3,
	TF_WALL = 4,
	TF_DAMAGING = 5,
	TF_BLOCKING = 6 ,
	TF_WET = 7,
	TF_UNKNOWN1 = 8,
	TF_SURFACE = 9,
	TF_CLIMBABLE = 10,
	TF_STACKABLE = 11,
	TF_WINDOW = 12,
	TF_NOSHOOT = 13,
	TF_DISPLAYA = 14,
	TF_DISPLAYAN = 15,
	TF_DESCRIPTION = 16,
	TF_FOLIAGE = 17,
	TF_PARTIALHUE = 18,
	TF_UNKNOWN2 = 19,
	TF_MAP = 20,
	TF_CONTAINER = 21,
	TF_WEARABLE = 22,
	TF_LIGHT = 23,
	TF_ANIMATED = 24,
	TF_NODIAGONAL = 25, //HOVEROVER in SA clients and later, to determine if tiles can be moved on by flying gargoyles
	TF_UNKNOWN3 = 26,
	TF_ARMOR = 27,
	TF_ROOF = 28,
	TF_DOOR = 29,
	TF_STAIRBACK = 30,
	TF_STAIRRIGHT = 31</pre>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var tileFlagFound = CheckDynamicFlag( pUser.x, pUser.y, pUser.z, pUser.worldNumber, pUser.instanceID, 6 ); // Is there a tile with TF_BLOCKING flag?
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_DoesStaticBlock">DoesStaticBlock</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool DoesStaticBlock( x, y, z, world, checkWater );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Check if statics at/above given location blocks character movement<br><br>
Parameters:<br>
x, y, z, world = coordinates and worldnumber<br>
checkWater = true if water should block, false if not (for creatures that can swim, for instance)
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var doesStaticBlock = DoesStaticBlock( pUser.x + 1, pUser.y, pUser.z, pUser.worldnumber, false );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_DoesDynamicBlock">DoesDynamicBlock</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool DoesDynamicBlock( x, y, z, world, instance, checkWater, waterWalk, checkOnlyMultis, checkOnlyNonMultis );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Checks if dynamics at/above given location blocks character movement.<br><br>
Parameters:<br>
x, y, z, world, instance = coordinates, worldnumber and instanceID<br>
checkWater = true if water should block, false if not (for creatures that can swim, for instance)<br>
waterWalk = true if creature can move on water surfaces, false if not<br>
checkOnlyMultis = only multis will be checked, other dynamic items are ignored<br>
checkOnlyNonMultis = multis are ignored, all other dynamic items are checked
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var doesDynamicBlock = DoesDynamicBlock( pUser.x + 1, pUser.y, pUser.z, pUser.worldnumber, pUser.instanceID, false, false, false, false );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_DoesMapBlock">DoesMapBlock</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool DoesMapBlock( x, y, z, world, checkWater, waterWalk, checkMultiPlacement, checkForRoad );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Checks if map tile at given coordinates would block character movement.<br><br>
Parameters:<br>
x, y, z, world = coordinates and worldnumber<br>
checkWater = true if water should block, false if not (for creatures that can swim, for instance)<br>
waterWalk = true if creature can move on water surfaces, false if not<br>
checkMultiPlacement = if true, map tile has to be at exact same Z as provided coordinate, or it will count as blocked<br>
checkForRoad = true if roads and paths should count as blocking. checkMultiPlacement must be true for this to be checked
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var doesMapBlock = DoesMapBlock( pUser.x + 1, pUser.y, pUser.z, pUser.worldnumber, false, false, true, true );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_DistanceBetween">DistanceBetween</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool DistanceBetween( x1, y1, x2, y2 );
bool DistanceBetween( x1, y1, z1, x2, y2, z2 );
bool DistanceBetween( objA, objB );
bool DistanceBetween( objA, objB, checkZ );
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Get the distance between two sets of coordinates or objects on either 2D or 3D plane<br><br>
Parameters:<br>
x1, y1, z1, x2, y2, z2 = coordinates<br>
checkZ = true if distance between two objects should take into account Z axis
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
// Get distance between two sets of x, y coordinates
var distance1 = DistanceBetween( pUser.x, pUser.y, iUsed.x, iUsed.y );

// Get distance between two sets of x, y, z coordinates
var distance2 = DistanceBetween( pUser.x, pUser.y, pUser.z, iUsed.x, iUsed.y, iUsed.z );

// Get distance between pUser and iUsed using 2D coordinates
var distance2 = DistanceBetween( pUser, iUsed );

// Get distance between pUser and iUsed using 3D coordinates
var distance2 = DistanceBetween( pUser, iUsed, true );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetAccountCount">GetAccountCount</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>int GetAccountCount();
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Gets the total amount of accounts on the server
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var totalAccounts = GetAccountCount();
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetAccountCount">GetPlayerCount</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>int GetPlayerCount();
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Gets the total amount of players online on the server
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var totalPlayers = GetPlayerCount();
</pre></table>


<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetAccountCount">BASEITEMSERIAL</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>int BASEITEMSERIAL();
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Gets the constant that defines the base value used as starting point for item serials. If an object serial is lower than this, it probably belongs to a character. If it's higher, it belongs to an item.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var baseItemSerial = BASEITEMSERIAL();
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetAccountCount">INVALIDSERIAL</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>int INVALIDSERIAL();
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Gets the constant defining an invalid serial. If an object serial matches this, it's invalid!
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var invalidSerial = INVALIDSERIAL();
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetAccountCount">INVALIDID</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>int INVALIDID();
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Gets the constant defining an invalid ID. If an object's ID matches this, it's probably not a valid ID!
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var invalidID = INVALIDID();
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_GetAccountCount">INVALIDCOLOUR</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>int INVALIDCOLOUR();
</pre>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Gets the constant defining an invalid colour. If an object's colour is equal or higher than this, it's probably not a valid colour!
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
var invalidColour = INVALIDCOLOUR();
</pre></table>

<center>
<font face="Tahoma,Arial,MS Sans Serif" size="1">©Copyright 2000-2001 <a href="http://www.uox3.net">WWW.UOX3.NET</a> (Daniel Stratton/Matthew Randall)</font>
</center>


</body>