<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<title>UOX3 API and Event handling document</title>
<style></style>
<link rel="stylesheet" href="style.css" type="text/css">
</head>

<body>
<center>
	<h1>UOX3 Script Engine</h1>
	<h3>API and Event handling</h3>
</center>
<h3><a name="MagicFuncs">Magic Related Functions</a></h3>

<table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_CastSpell">CastSpell</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>pUser.CastSpell( spellNum, ( directCast) );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Causes character to cast spellNum. Character can be an NPC or PC. spellNum can be any valid spellNum from spells.dfn. The optional boolean parameter directCast can be used to make the character automatically cast the spell at their current target (if spell is targeted)
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>// Player casts recall spell
pUser.CastSpell( 32 );

// NPC casts lightning bolt at their current target
myNPC.CastSpell( 30 );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_HasSpell">HasSpell</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>bool HasSpell( spellNum );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Scans through a spellbook's content to see if it contains spellNum, or through a player's backpack to see if they have a spellbook with spellNum in the first spellbook found
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>// Check character's inventory for a spellbook with specified spell
var bHasSpell = pUser.HasSpell( 0 );

// Check directly if spellbook has specified spell
var bHasSpell = mySpellbook.HasSpell( 0 );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_AddSpell">AddSpell</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>AddSpell( spellNum );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Adds spell spellNum to first spellbook encountered in player's backpack
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>pUser.AddSpell( 0 );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_RemoveSpell">RemoveSpell</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>RemoveSpell( spellNum );
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Removes spellNum from specified spellbook, or from first spellbook encountered in player's spellbook
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>// Remove spell directly from spellbook
mySpellbook.RemoveSpell( 0 );

// Remove spell from first spellbook found in player's backpack
pUser.RemoveSpell( 0 );
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=3 bgcolor="maroon"><a name="SE_SpellFail">SpellFail</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>SpellFail();
</pre><tr><td valign="top" width="25%"><b>Purpose</b><td>Makes the sounds and noises associated with spell failure for character. Takes no arguments.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>pUser.SpellFail();
</pre></table>

<p>&nbsp;</p><center>
<font face="Tahoma,Arial,MS Sans Serif" size="1">©Copyright 2000-2001 <a href="http://www.uox3.net">WWW.UOX3.NET</a> (Daniel Stratton/Matthew Randall)</font>
</center>

</body>